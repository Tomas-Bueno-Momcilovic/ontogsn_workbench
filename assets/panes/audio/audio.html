<div class="audio">
  <div class="audio-top">
    <button id="audio-rec" type="button" title="Record from microphone">Record</button>
    <button id="audio-stop" type="button" disabled title="Stop recording">Stop</button>

    <label for="audio-file" title="Upload a .wav (or other audio)">
      Upload…
      <input id="audio-file" class="audio-file-input" type="file" accept=".wav,audio/*" />
    </label>

    <button id="audio-download" type="button" title="Download the current audio">Download</button>
    <button id="audio-clear" type="button" title="Clear audio">Clear</button>
    <label class="audio-live-toggle" title="Transcribe while recording">
        <input id="audio-live-stt" type="checkbox" />
        Live STT
    </label>

    <span id="audio-status" class="audio-status"></span>
  </div>

  <div class="audio-wave-wrap">
    <canvas id="audio-wave"></canvas>
    <div class="audio-hint">
      Tip: mic recording works best on <code>localhost</code> or <code>https</code>.
    </div>
  </div>

  <audio id="audio-player" class="audio-player" controls></audio>

  <div class="audio-transcribe">
    <div class="audio-transcribe-top">
      <button id="audio-transcribe" type="button" title="Transcribe audio locally in your browser">
        Transcribe
      </button>
      <button id="audio-copy" type="button" title="Copy transcript to clipboard">Copy</button>
      <button id="audio-tx-clear" type="button" title="Clear transcript">Clear transcript</button>

      <select id="audio-asr-model" title="Transcription model">
        <optgroup label="Cloud (Mistral)">
          <option value="mistral:voxtral-mini-latest">Voxtral (stream) — voxtral-mini-latest</option>
        </optgroup>

        <optgroup label="Local (browser)">
          <option value="Xenova/whisper-tiny">whisper-tiny (multilingual)</option>
          <option value="Xenova/whisper-tiny.en">whisper-tiny.en (English)</option>
          <option value="Xenova/wav2vec2-base-960h">wav2vec2-base-960h (fast, English)</option>
        </optgroup>
      </select>

      <span id="audio-asr-status" class="audio-status"></span>
    </div>

    <textarea id="audio-transcript"
              class="audio-transcript"
              placeholder="Transcript will appear here…"
              spellcheck="false"></textarea>
  </div>
</div>
