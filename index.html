<!doctype html>
<html lang="en">
<head>
  <meta charset = "utf-8" />
  <meta name    = "viewport" content = "width = device-width, initial-scale = 1" />
  <title> OntoGSN Interface Test Instance </title>
  <link rel = "stylesheet" href = "/assets/css/app.css" />
  <link rel = "stylesheet" href = "/assets/vendor/github.min.css" />
</head>
<body>
  <script>
  window.addEventListener('load', async () => {
    if ('caches' in window) (await caches.keys()).forEach(k => caches.delete(k));
    if ('serviceWorker' in navigator) (await navigator.serviceWorker.getRegistrations()).forEach(r => r.unregister());
    localStorage.clear(); sessionStorage.clear();
  });
  </script>
  <h1>OntoGSN Playground</h1>

  <div class="split">
    <div id="leftButtons" class="btns" data-tab-group="left-main">

      <!-- Button: Config -->
      <button id="tab-settings" class="tab"
              data-pane="settings-root">
        Settings
      </button>

      <!-- Button: Welcome -->
      <button id="tab-welcome" class="tab active"
              data-pane="welcome-root"
              data-doc-query="/assets/data/queries/read_welcomeDoc.sparql"
              data-doc-var="doc">
        Welcome
      </button>

      <!-- Button: Table -->
      <button id="tab-table" class="tab"
              data-pane="results">
        Table
      </button>

      <!-- Button: Checklist -->
      <button id="tab-checklist" class="tab"
              data-pane="checklist-root">
        Checklist
      </button>

      <!-- Button: Editor -->
      <button id="tab-editor" class="tab"
              data-pane="editor-root">
        Editor
      </button>

      <!-- Button: Document -->
      <button id="tab-doc" class="tab"
              data-pane="doc-root"
              data-doc-query="/assets/data/queries/read_document.sparql"
              data-doc-var="doc">
        Document
      </button>

      <!-- Button: Code -->
      <button id="tab-code" class="tab"
              data-pane="code-root">
        Code
      </button>

      <!-- Button: Converter -->
      <button id="tab-converter" class="tab"
              data-pane="converter-root">
        Converter
      </button>

      <!-- Button: Chat -->
      <button id="tab-chat" class="tab"
              data-pane="chat-root">
        Chat
      </button>
    </div>

    <div id="rightButtons" class="btns" data-tab-group="right-main">
      <!-- Button: Tree -->
      <button id="btn-tree-view" class="tab active"
              data-view="graph" data-pane="graph-root"
              data-query="/assets/data/queries/visualize_graph.sparql" data-no-table="1">
        Tree
      </button>

      <!-- Button: Layer -->
      <button id="btn-layered-view" class="tab"
              data-view="layered" data-pane="layered-root" data-no-table="1">
        Layer
      </button>

      <!-- Button: Model -->
      <button id="btn-model-view" class="tab"
              data-view="model" data-pane="model-root"
              data-query="/assets/data/queries/read_carLoadWeight.sparql" data-no-table="1">
        Model
      </button>
    </div>
  </div>

  <div class="split">
    <div id="leftPane" class="pane pane-left">
      <div id="results"        class="left-view"></div>
      <div id="welcome-root"   class="left-view" hidden></div>
      <div id="editor-root"    class="left-view" hidden></div>
      <div id="doc-root"       class="left-view" hidden></div>
      <div id="checklist-root" class="left-view" hidden></div>
      <div id="converter-root" class="left-view" hidden></div>
      <div id="code-root"      class="left-view" hidden></div>
      <div id="chat-root"      class="left-view" hidden></div>
      <div id="settings-root"  class="left-view" hidden></div>
    </div>
    <div id="rightPane" class="pane pane-right">
      <div id="graph-root" class="right-view gsn-host" hidden></div>
      <div id="layered-root" class="right-view" hidden></div>
      <div id="model-root" class="right-view" hidden></div>
    </div>
  </div>

  <pre id="out"></pre>

  <div class="split">
    <div id="leftRules" class="btns"></div>
    <div id="rightModules" class="btns"></div>
  </div>

  <!-- Important: serve this file with a local web server (e.g., `python -m http.server`) -->
  <script src  = "/assets/vendor/n3.min.js"></script>
  <script type = "importmap">{"imports": {"three": "/assets/vendor/three.module.js"}}</script>
  <script src = "/assets/vendor/highlight.min.js"></script>

  <script type = "module" src = "/assets/js/boot.js"    ></script>
  <script type = "module" src = "/assets/js/welcome.js" ></script>
  <script type = "module" src = "/assets/js/checklist.js"></script>
  <script type = "module" src = "/assets/js/settings.js"></script>
  <script type = "module" src = "/assets/js/graph.js"   ></script>
  <script type = "module" src = "/assets/js/layers.js"  ></script>
  <script type = "module" src = "/assets/js/model.js"   ></script>
  <script type = "module" src = "/assets/js/editor.js"  ></script>
  <script type = "module" src = "/assets/js/table.js"   ></script>
  <script type = "module" src = "/assets/js/document.js"></script>
  <script type = "module" src = "/assets/js/converter.js"></script>
  <script type = "module" src = "/assets/js/code.js"    ></script>
  <script type = "module" src = "/assets/js/chat.js"    ></script>

  <script>
    window.addEventListener("error", (e) => {
      console.error("[window error]", e.message, e.filename, e.lineno, e.colno, e.error);
    });
    window.addEventListener("unhandledrejection", (e) => {
      console.error("[unhandledrejection]", e.reason);
    });

  </script>

</body>
</html>
